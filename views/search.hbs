<form id="searchBar" class="form-inline active-cyan-3 active-cyan-4" method="GET">
  <i class="fas fa-search" aria-hidden="true"></i>
  <input class="form-control form-control-sm ml-3 w-75" type="text" placeholder="Search"
    aria-label="Search" name="search" id="speech-text">
  <img onclick="startDictation()" width="10" height="10" src="https://img.icons8.com/flat_round/64/000000/medium-volume--v1.png"/>
  <button class="btn btn-outline-secondary">Search</button>
</form>
<input id="hidden" value={{ userName }}></input>
{{#each posts}}
<div id="searchCard" class="card-deck div-container">
  <div id="feedCard" class="card">
    <img id="postImg" class="card-img-top post-foto" src={{ image }} alt="Card image cap">
    <div id="cardPost" class="card-body">
    <a  class="card-title" href="/logged/post/{{ _id }}">{{ title }}</a>
    <p class="card-text">Description: {{ content }}</p>
    <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
  </div>
  </div>
{{/each}}
</div>


<script>

    let lang = "en-GB";
          
    function startDictation() {

        if (window.hasOwnProperty('webkitSpeechRecognition')) {

        var recognition = new webkitSpeechRecognition();

        recognition.continuous = false;
        recognition.interimResults = false;
    
        recognition.lang = "en-GB";
        recognition.start();

        recognition.onresult = function(e) {            
            const $speechT = document.getElementById("speech-text");
            $speechT.value = e.results[0][0].transcript;

            recognition.stop();
        };

        recognition.onerror = function(e) {
            recognition.stop();
        }

        }
    }
</script>

    
    